## ðŸ” What Is a Non-Interactive Shell?

- **Basic reverse shell** (e.g., from `nc`, `msfvenom`, or RCE)
- **No job control**, **no tab completion**, **no command history**
- **Breaks on Ctrl+C**, **no proper TTY** â†’ many commands fail (`su`, `ssh`, `passwd`)

> ðŸ’¡ **Interactive shell** = full terminal experience (like SSH)
---
## ðŸ§ª Step 1: Check Available Shells

```bash
cat /etc/shells
```

âœ… Output:

```
/bin/sh
/bin/bash
/bin/dash
/bin/rbash
```

> âš ï¸ **Not all systems have `bash`** â€” always check first!

---
## ðŸš€ Step 2: Upgrade to Interactive Shell

### Method 1: Direct Bash (if available)
```bash
/bin/bash -i
```

- `-i` = **interactive mode**
- Only works if `bash` exists

---
### Method 2: Python PTY Spawn (Most Reliable)
```bash
python3 -c 'import pty; pty.spawn("/bin/bash")'
```
- `-c` = execute Python code from command line
- `pty.spawn()` = spawns a **pseudo-TTY** â†’ mimics real terminal
- **Works even if `bash` is missing** â†’ just change to `/bin/sh`:
  ```bash
  python3 -c 'import pty; pty.spawn("/bin/sh")'
  ```

> â“ **Why Python?**  
> - Python is installed on most Linux systems  
> - `pty` module creates a proper TTY â†’ enables `su`, `sudo`, etc.

---
### Method 3: Perl/Ruby Fallbacks
```bash
# Perl
perl -e 'exec "/bin/bash";'

# Ruby
ruby -e 'exec "/bin/bash";'
```
- Less reliable (not always installed)
- Doesnâ€™t create TTY â†’ still non-interactive

---
## ðŸ› ï¸ Step 3: Fix Environment (Critical!)

After spawning TTY, run these **in your new shell**:

### 1. Restore PATH
```bash
export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
```

> â“ **Why?**  
> Non-interactive shells often have **empty/no PATH** â†’ commands like `whoami` fail

### 2. Set Terminal Type
```bash
export TERM=xterm
```

> â“ **Why?**  
> Enables **color output**, **screen resizing**, and proper terminal behavior

### 3. (Optional) Declare Shell
```bash
export SHELL=bash
```

> â“ **Why?**  
> Some tools (e.g., `su`) check `$SHELL` to determine behavior

---
## âœ… Final Result

After these steps:
- You have a **fully interactive shell**
- Can run **any command** (`su`, `sudo`, `vim`, `top`)
- **Tab completion**, **Ctrl+C**, **job control** work
- Behaves like a **real SSH session**


