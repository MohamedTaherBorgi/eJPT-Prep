## ‚ö° Step 1: Upgrading to Meterpreter

If you exploit a Linux target and get a basic CMD or Unix shell, it‚Äôs often limited. To get the full power of Meterpreter, use the upgrade command.

- **Command:** `sessions -u <session_id>`
    
- **Result:** This spawns a second, separate session that is a full Meterpreter instance.

---
## üîç Step 2: Manual Enumeration (The "Basics")

Once you have your session, run these manual commands to understand where you are and who you are.

|**Command**|**Purpose**|
|---|---|
|`getuid`|Shows your current user ID (e.g., `uid=0` means you are **root**).|
|`whoami`|Displays the username associated with the current session.|
|`/bin/bash -i`|Spawns an interactive Bash shell (better than a raw shell).|
|`cat /etc/passwd`|Lists all users on the system.|
|`groups <user>`|Shows which groups a user belongs to (useful for finding sudoers).|
|`uname -a`|Displays kernel version and system architecture.|
|`ip a`|Essential for **pivoting**; shows all network interfaces.|
|`netstat -antp`|Shows active connections and listening ports.|
|`env`|Shows environment variables (look for API keys or custom paths).|

---
## üõ†Ô∏è Step 3: Metasploit Post-Exploitation Modules

### Module Explanations

|**Module Path**|**What it does**|
|---|---|
|`post/linux/gather/enum_configs`|**Configuration Scraper:** Searches for common config files (SSH, Web servers, Cron jobs). It looks for credentials or misconfigurations inside them.|
|`multi/gather/env`|**Environment Grabber:** A cross-platform version of the `env` command. It pulls all variables into the MSF database for easy searching later.|
|`post/linux/gather/enum_network`|**Network Deep-Dive:** Goes beyond `ifconfig`. It pulls ARP tables, DNS settings, and active routing tables to help you find other targets.|
|`post/linux/gather/enum_protection`|**Defensive Audit:** Checks for security "hardening" like **SELinux**, **AppArmor**, or **ASLR**. It tells you if the system is actively fighting your exploits.|
|`post/linux/gather/enum_users_history`|**The Goldmine:** Reads `.bash_history` files. Users often type passwords or sensitive file paths into the terminal by mistake.|

---
## üí∞ Step 4: Managing the "Loot"

Metasploit doesn't just show you data; it saves it.

> **The Loot System:** When you run modules like `enum_configs`, the files are downloaded and stored in your local MSF database.
> 
> - To see what you've found, type: `loot`
>     
> - To view a specific file, copy the path provided in the loot list and use: `cat <path in loot>`

